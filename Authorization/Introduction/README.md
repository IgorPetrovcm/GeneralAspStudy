# Аунтификация и авторизация, middleware 

## Аунтификация
Для подключения аунтификация в конвеер на основе **Jwt-токенов** потребуется подключение библиотеки **Microsoft.AspNetCore.Authentication.JwtBearer**.

За встраивание аунтификации в **middleware**, отвечает специальный компонент **middleware** - `AuthenticationMiddleware`. Для встраивания этого компонента отвечает метод расширения `AddAuthentication()`. 

Для выполнения аунтификации этот компонент использует сервисы аунтификации, один из них ,`IAuthenticationService`. Сервисы аунтификации регистрируются в приложении с помощтю метода `AddAuthentication()`.

Кроме применения схемы аутентификации необходимо подключить аутентификацию определенного типа. Для регистрации аунтификации на основе **Jwt-токенов**, можно использовать метод `AddJwtBearer`.

```csharp
builder.Services.AddAuthentication("Bearer").AddJwtBearer();
```

## Авторизация 

 необходимо зарегистрировать сервисы авторизации с помощью метода `AddAuthorization()`